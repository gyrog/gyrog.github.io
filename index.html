<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
<title>FrugalPup</title>
<link rel="SHORTCUT ICON" href="gnibbles.ico" />
<link rel="stylesheet" type="text/css" href="frugalpup.css">
</head>

<body>

<h1><img src="gnibbles.png"> FrugalPup - the package</h1>
<p>FrugalPup is all about doing frugal installs of Puppy linux, and managing multiple frugal installs.</p>

<p>The FrugalPup package contains a number of CLI backend scricpts that actually do it, and some GUI scripts, for ease of use.<br />
The main GUI script is, of course, the FrugalPup application itself.</p>

<p>But there are also some companion GUI scripts that provide simple, minimal optioned, installers.<br /> 
The current companion simple Puppy frugal installers are:<br />
<b>StickPup</b><br />
The simplest and most restricted installer, that formats and installs a single Puppy to a usb stick, in a single "fat32" partition.<br />
<b>f2StickPup</b><br />
Formats and installs a single Puppy to a usb stick, in a small "fat32" partition and a large Linux f2fs partition.<br />
<b>DiskPup</b><br />
Does no partitioning or formating; The drive will need to already be partitioned and formatted. <br />
Installs a single Puppy linux in a selected directory, and the boot loader (Grub2) in a selected "fat32" partition.<br />
The Puppy linux directory can be on the same partition as the boot loader, or on a different partition.</p>

<h3>uefi - Secure Boot:</h3>

<p>The easiest way to allow Puppy Linux to boot on a uefi computer is to disable <span class="lit">Secure Boot</span> in UEFI/firmware.<br /><br />
If <span class="lit">Secure Boot</span> is enabled, every boot has to be authenticated with a key.<br />
The key for Puppies installed with <b>FrugalPup</b> is not installed in the UEFI/firmware by the computer manufacturer.<br />
But it is installed by <b>FrugalPup</b> as the file <span class="lit">puppy.cer</span> in the root directory of the "fat32" install partition.<br />
It is necessary to use the <span class="lit">Enroll key from disk</span> option of <a href="frugalpup-mok.html"><b>MOK manager</b></a>, on this file, once.<br />
A screen providing an option to run <a href="frugalpup-mok.html"><b>MOK manager</b></a> will be shown before the <b>Grub2</b> menu, whenever it is needed.<br /><br />
Once the Puppy MOK has been "enrolled", subsequent boots of any Puppy installed by FrugalPup should proceed directly to the <b>Grub2</b> menu.<br /></p>

<h3>Formating Partitions:</h3>

<p><b>DiskPup</b> and <b>FrugalPup</b> require an <b>install partition</b> and a <b>boot partition</b> to be available, before they can be used.<br />
If appropriate partitions do not exist, they can be setup using 'GParted'.<p>

<p><b>Install partition:</b><br />
The Puppy files for each frugal install reside in their own sub-directory on this large partition. Also, the Puppy "save" mechanism is usually written to this sub-directory.<br />
It is preferable to format this partition with a "Linux" filesystem, e.g. "ext4" on a HD or SSD, "f2fs" on a usb stick or SD card.<p>

<p><b>Boot partition:</b><br />
The bootloader, "Grub2" (approximately 10MiB), is installed in this small bootable "fat32" partition.<br />
It does not need to be on the same device as the <b>install partition</b>.<br />
On a "uefi" computer, it can be the same "fat32" partition as the ESP (Efi System Partition), installed by some other Operating System, e.g. Windows,<br />
but it's usually more straight-forward if it's not, even if it's on a small USB stick.<br />
This is usually the first partition on the device that UEFI/firmware is configured to boot.<br />
Use GParted to ensure that the 'boot' flag is set for this partition, and the 'esp' flag if it is available.</p>

<p>A simple approach, is to install Puppy to a usb device using a layout like that generated by <b>f2StickPup</b>,<br />
e.g. a small "fat32" partition and a large linux partition on the rest of the drive.</p>

<p>Of course other partitions could be defined on the same device, if required.<br />
One useful other partition is a 'linux-swap' partition that is at least as big as your physical RAM.</p>

<h1><img src="gnibbles.png"> FrugalPup - the application</h1>

<h2>Overview</h2>

<img class="center" src="frugalpup-main.png" alt="FrugalPup main screen">

<p>FrugalPup is meant to install and manage multiple Puppy frugal installs, so it has a number of facilities rather than a single wizard.<br />
To install 2 Puppies, you would use the <b>Puppy</b> facility twice to setup the 2 install directories, and then use the <b>Boot</b> facility once to setup the boot loader for these 2 Puppies.</p>

<p>FrugalPup is meant to provide control over all aspects of the install, so it contains a number of dialogs to allow specification of things that might be rarely needed.<br />
To make the use of FrugalPup as easy as possible, a number of these "advanced" dialogs are disabled by default, but can be enabled with the <b>Settings</b> facility.</p>

<p>This structure also provides other opportunities, like:<br />
Use the <b>Puppy</b> facility to update a Puppy install directory after a new version of the iso is released.<br />
Use the <b>Boot</b> facility to create a usb stick that can boot the Puppies installed on the hard drive.<br />
Use the <b>BootCD</b> facility to create a CD that can boot installed Puppies on a machine that can't boot a usb device.<p>

<h2>Facilities</h2>

<h3>Help</h3>

<p>View this page with "defaulthtmlviewer".</p>

<h3><a href="frugalpup-settings.html">Settings</a></h3>

<p>"Edit" settings in the config file, "/root/.config/frugalpup.conf".</p>

<h3>Puppy</h3>

<p>The primary use of this facility is to copy the relevant files from the source Puppy to the install directory.</p>

<p>But it also contains some dialogs that collect information for use by the <b>Boot</b> facility, simply because the <b>Puppy</b> facility is run for each Puppy installed.<br />
Whereas the <b>Boot</b> facility might be run only once to cater for many Puppies.<br />
These dialogs are referred to as the "optional advanced dialogs", and can be individually enabled or disabled via the <b>Settings</b> facility.</p>

<h3>Boot</h3>

<p>Setup the Grub2 boot loader to boot the selected Puppy install directories on a selected "fat32" partition.</p>

<p>If the selected Puppy directory is the actual install directory of a particular Puppy, a single Grub2 boot entry will be generated just for that Puppy.<br />
If the selected directory is the parent of a number of Puppy install directories, Grub2 boot entries will be generated for all the Puppies in the sub-directories.<br />
These Grub2 boot entries support 2 optional "initrd" files, 'ucode.cpio' and 'local-initrd.gz', as well as the standard 'initrd.gz'.</p>

<p>If the selected boot partition is an existing ESP (Efi System Partition), installed by some other Operating System, e.g. Windows or another Linux distribution,
FrugalPup takes steps to avoid overwriting the existing "boot" definition.<br />
It stores the Puppy Grub2 files so that it should be possible to dual-boot with the other Operating System via the machines UEFI/firmware "Boot Menu".<br />
FrugalPup must be running on a Puppy that supports a working 'efibootmgr' utility, to setup the dual-boot.</p>

<img class="center" src="frugalpup-boot.png" alt="FrugalPup Boot type screen">

<p>On the "Boot type" screen, options are provided to specify which of the uefi grub2 copies to install, 'ueif64', 'uefi32' or both.<br />
Most uefi computers will expect 'uefi64' to be installed, but there are some that require 'uefi32'.<br />
FrugalPup has always contained both copies of uefi grub2, and until version 37, it always installed both.<br />
Apart from the slight saving in disk space, this only makes a real difference if grub2 is being installed to an ESP on a machine that requires 'uefi32'.<br />
In that case, provided 'uefi32' is selected, 'bootia32.efi' will be specified in the UEFI/firmware boot entry instead of 'bootx64.efi'.</p>

<p>Options are also provided to skip the install of Grub2, and change only the main 'grub.cfg' file,<br />
either by replacing it, or by appending boot entries to it.<br /><br />
If 'append' is not selected, a new 'grub.cfg' is generated.<br />
FrugalPup does not attempt to generate a "Windows" boot entry. Instead, the files in '/var/local/otherinstalls.d' are processed in sort order.<br />
It is assumed that these files contain Grub2 boot enteries that FrugalPup does not generate, i.e. anything that is not a Puppy frugal install.<br />
So the contents of these files are included in the generated 'grub.cfg'.<br />
A separate utility, "OtherInstalls" can be used to create boot entries in '/var/local/otherinstalls.d/boot-entries' for some things, including "Windows".</p>

<h3>BootCD</h3>

<p>Create a non-uefi bootable ISO file.</p>

<img class="center" src="frugalpup-bootcd.png" alt="FrugalPup partition screen">

<p>If you select a "fat32" partition that contains a Grub2 installation, as installed by the <b>Boot</b> facility,<br />
the resultant CD/DVD will contain only grub4dos configured to chainload the Grub2 on the selected partition.<br />
This CD/DVD should continue to work as long as there is a Grub2 installed on the selected partition, no matter how many changes are made to the 'grub.cfg' on the selected partition.<br />
If some other partition is selected,<br />
it will be assumed that the partition contains Puppy Linux frugal installs, as installed by the <b>Puppy</b> facility,<br />
and the resultant CD/DVD will contain Grub2 configured to boot the selected Puppy Linux frugal installs from the selected partition.<br />
This CD/DVD will work only as long as all the current Puppies remain installed in their current locations.</p>

<p>Both provide an alternate boot capability to machines that cannot boot from usb.</p>

</body>
</html>
